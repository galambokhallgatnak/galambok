 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Choices</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: black;
            color: white;
            text-align: center;
            padding-top: 50px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #555;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #777;
        }
        .hidden {
            display: none;
        }
        #dynamicContainer div {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div id="languageSelector">
        <button onclick="setLanguage('HU')">HU</button>
        <button onclick="setLanguage('RO')">RO</button>
    </div>
    <div id="mainContainer" class="hidden">
        <h1 id="mainQuestion"></h1>
        <button onclick="yesClicked()">Igen</button>
        <button onclick="noClicked()">Nem</button>
    </div>
    <div id="dynamicContainer" class="hidden">
        <p id="dynamicText"></p>
        <button id="nextButton" onclick="nextStage()">Tovább</button>
    </div>

    <script>
        const textHU = {
            question: "Készen állsz rá, hogy megtaláld közösségünkben az igazi boldogságot?",
            yesResponses: [
                "Változtasd meg az életed minőségét!",
                "Törd meg a magány láncát!",
                ""
            ],
            finalMessage: "Örülünk, hogy itt vagy! Ezeket a mondatokat a ChatGPT generálta arra a kérdésre, hogy \"Milyen mondatokkal lehetne bevonzani embereket egy szektába?\""
        };
        const textRO = {
            question: "Ești gata să găsești fericirea adevărată în comunitatea noastră?",
            yesResponses: [
                "Schimbă calitatea vieții tale!",
                "Rupe lanțurile singurătății!",
                ""
            ],
            finalMessage: "Ne bucurăm că ești aici! Aceste propoziții au fost generate de ChatGPT la întrebarea \"Ce fraze ar putea atrage oamenii într-o sectă?\""
        };

        let currentLang, currentIndex = 0;

        function setLanguage(lang) {
            currentLang = lang === 'HU' ? textHU : textRO;
            document.getElementById('languageSelector').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'block';
            document.getElementById('mainQuestion').textContent = currentLang.question;
            document.getElementById('nextButton').textContent = lang === 'HU' ? 'Tovább' : 'Continuă';
        }

        function yesClicked() {
            document.getElementById('mainContainer').style.display = 'none';
            document.getElementById('dynamicContainer').style.display = 'block';
            nextStage();
        }

        function noClicked() {
            if (currentIndex === 0) { // Special handling for the "Nem" scenario
                for (let i = 0; i < 5; i++) {
                    let btn = document.createElement('button');
                    btn.textContent = 'Igen';
                    btn.onclick = yesClicked;
                    document.getElementById('dynamicContainer').appendChild(btn);
                }
                document.getElementById('nextButton').textContent = 'Nem';
                document.getElementById('nextButton').onclick = function() {
                    shuffleNoButton();
                };
                shuffleNoButton();
                document.getElementById('dynamicText').textContent = currentLang.question;
                document.getElementById('dynamicContainer').style.display = 'block';
                document.getElementById('mainContainer').style.display = 'none';
            }
        }

        function shuffleNoButton() {
            let container = document.getElementById('dynamicContainer');
            let noButton = document.getElementById('nextButton');
            noButton.remove();
            let position = Math.floor(Math.random() * (container.children.length + 1));
            container.insertBefore(noButton, container.children[position]);
        }

        function nextStage() {
            if (currentIndex < currentLang.yesResponses.length) {
                document.getElementById('dynamicText').textContent = currentLang.yesResponses[currentIndex];
                currentIndex++;
            }
            if (currentIndex === currentLang.yesResponses.length) {
                document.getElementById('nextButton').style.display = 'none';
                if (currentIndex === 3) {
                    document.getElementById('dynamicText').textContent = currentLang.finalMessage;
                    let joinButton = document.createElement('button');
                    joinButton.textContent = 'Csatlakozom';
                    joinButton.onclick = function() {
                        document.getElementById('dynamicText').textContent = currentLang.finalMessage;
                    };
                    document.getElementById('dynamicContainer').appendChild(joinButton);
                }
            }
        }
    </script>
</body>
</html>
